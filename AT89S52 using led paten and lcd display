#include <AT89S52.h>
#define DATA P2
#define RS P3_0
#define EN P3_2
#define RW P3_1
void naveen(void)
{
long int i;
for(i=0;i<3500;i++)
{
}
}
void patten(){
while(1)
{
int m,g,s;
for(m=0;m<2;m++)
{
P1_0=1;
P1_1=1; 
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=1;
P1_6=1;
P1_7=1;
naveen();
P1_0=1;
P1_1=1;
P1_2=0;
P1_3=0;
P1_4=1;
P1_5=1;
P1_6=0;
P1_7=0;
naveen();
}
for(m=0;m<2;m++)
{
P1_0=1;
P1_1=0;
P1_2=1;
P1_3=0;
P1_4=1;
P1_5=0;
P1_6=1;
P1_7=0;
naveen();
P1_0=0;
P1_1=1;
P1_2=0;
P1_3=1;
P1_4=0;
P1_5=1;
P1_6=0;
P1_7=1;
naveen();
P1_0=1;
P1_1=0;
P1_2=1;
P1_3=0;
P1_4=1;
P1_5=0;
P1_6=1;
P1_7=0;
naveen();
P1_0=0;
P1_1=1;
P1_2=0;
P1_3=1;
P1_4=0;
P1_5=1;
P1_6=0;
P1_7=1;
naveen();
}

for(g=0;g<2;g++)
{
P1_0=0;
P1_1=0;
P1_2=1;
P1_3=1;
P1_4=0;
P1_5=0;
P1_6=1;
P1_7=1;
naveen();
P1_0=0;
P1_1=1;
P1_2=0;
P1_3=0;
P1_4=1;
P1_5=1;
P1_6=0;
P1_7=0;
P1_7=1;
naveen();
P0_7=0;
P1_0=0;
P1_1=0;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=0;
P1_6=0;
P1_7=1;
P1_7=1;
naveen();
P1_7=0;
P1_0=1;
P1_1=0;
P1_2=0;
P1_3=1;
P1_4=1;
P1_5=0;
P1_6=1;
P1_7=1;
P1_7=1;
naveen();
P1_0=0;
P1_1=1;
P1_2=1;
P1_3=0;
P1_4=1;
P1_5=0;
P1_6=0;
P1_7=1;
naveen();
P1_0=0;
P1_1=0;
P1_2=1;
P1_3=1;
P1_4=0;
P1_5=1;
P1_6=1;
P1_7=0;
naveen();
P1_0=0;
P1_1=0;
P1_2=1;
P1_3=1;
P1_4=0;
P1_5=0;
P1_6=1;
P1_7=1;
naveen();
P1_0=0;
P1_1=0;
P1_2=1;
P1_3=1;
P1_4=0;
P1_5=1;
P1_6=0;
P1_7=1;
naveen();
P1_0=0;
P1_1=1;
P1_2=0;
P1_3=0;
P1_4=0;
P1_5=1;
P1_6=0;
P1_7=0;
naveen();
P1_0=0;
P1_1=1;
P1_2=0;
P1_3=1;
P1_4=0;
P1_5=1;
P1_6=0;
P1_7=0;
naveen();
P1_0=1;
P1_1=0;
P1_2=0;
P1_3=1;
P1_4=1;
P1_5=0;
P1_6=1;
P1_7=0;
naveen();
P1_0=1;
P1_1=1;
P1_2=0;
P1_3=0;
P1_4=0;
P1_5=0;
P1_6=0;
P1_7=0;
naveen();
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=0;
P1_4=0;
P1_5=0;
P1_6=0;
P1_7=0;
naveen();
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=0;
P1_5=0;
P1_6=0;
P1_7=0;
naveen();
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=0;
P1_6=0;
P1_7=0;
naveen();
P0_7=0;
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=1;
P1_6=0;
P1_7=0;
naveen();
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=1;
P1_6=1;
P1_7=0;
naveen();
P0_7=0;
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=1;
P1_6=1;
P1_7=1;
naveen();
}
for(s=0;s<2;s++)
{
P1_0=0;
P1_7=0;
naveen();
P1_1=0;
P1_6=0;
naveen();
P1_2=0;
P1_5=0;
naveen();
P1_3=0;
P1_4=0;
naveen();
P1_0=1;
P1_7=1;
naveen();
P1_1=1;
P1_6=1;
naveen();
P1_2=1;
P1_5=1;
naveen();
P0_7=1;
P1_3=1;
P1_4=1;
naveen();
P1_0=1;
P1_1=1;
P1_2=1;
P1_3=1;
P1_4=1;
P1_5=1;
P1_6=1;
P1_7=1;
naveen();
P1_3=0;
P1_4=0;
naveen();
P1_2=0;
P1_5=0;
naveen();
P1_1=0;
P1_6=0;
naveen();
P1_0=0;
P1_7=0;
naveen();
}
}
}
void lcd_init(void);
void lcd_data(char);
void lcd_cmd(char);
void lcd_busy(void);
void lcd_print(char*);

void main()
{
 EN=0;
 lcd_init();
 lcd_print("I AM HARISH.K");
 lcd_cmd(0xC0);
 lcd_print("KCE-EEE DEPT");
 while(1)
 {
 	patten();
 
 }
}

void lcd_init(void)
{
 lcd_busy();
 lcd_cmd(0x38);
 lcd_cmd(0x01);
 lcd_cmd(0x0C);
 lcd_cmd(0x06);
 lcd_cmd(0x80);
}

void lcd_cmd(char c)
{
 DATA=c;
 RS=0;
 RW=0;
 EN=1;
 EN=0;
 lcd_busy();
}

void lcd_data(char d)
{
 DATA=d;
 RS=1;
 RW=0;
 EN=1;
 EN=0;
 lcd_busy();
}

void lcd_busy()
{
 char s;
 RS=0;
 RW=1;
 DATA=0xFF;
 EN=1;
 s=DATA&0x80;
 EN=0;
 while(s!=0x00)
 {
  EN=1;
  s=DATA&0x80;
  EN=0;
 }
}

void lcd_print(char*msg)
{
 while(*msg!=0x00)
 {
  lcd_data(*msg);
  *msg++;
 }
}

